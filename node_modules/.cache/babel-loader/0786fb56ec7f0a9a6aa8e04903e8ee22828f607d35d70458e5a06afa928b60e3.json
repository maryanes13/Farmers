{"ast":null,"code":"var _jsxFileName = \"D:\\\\\\u0420\\u0430\\u0431\\u043E\\u0442\\u0430\\\\\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B\\\\react\\\\Farmers\\\\src\\\\components\\\\pages\\\\buy-page\\\\buy-page.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport ProductGallery from \"../../blocks/product-gallery/ProductGallery\";\nimport Filter from \"../../ui/filter/filter\";\nimport { StyleBuyPage } from \"./styles\";\nimport \"swiper/swiper-bundle.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction BuyPage(_ref) {\n  _s();\n  let {\n    slides\n  } = _ref;\n  const [swiperRef, setSwiperRef] = useState(null);\n  const [selectProductIds, setSelectProductIds] = useState([]);\n  const selectProducts = selectProductIds.map(id => slides.find(slide => slide.id === id));\n\n  //цена покупки\n  const fullPrice = selectProducts.reduce((sum, slide) => sum += slide.price, 0);\n  const handleOnClickProduct = (value, index) => {\n    if (!selectProductIds.includes(value)) {\n      swiperRef.slideTo(index, 0);\n    }\n  };\n  const [address, setAddress] = useState(\"\");\n  const handleBuyClick = () => {\n    // eslint-disable-next-line no-alert\n    alert(\"\\u0421\\u043F\\u0430\\u0441\\u0438\\u0431\\u043E \\u0437\\u0430 \\u0437\\u0430\\u043A\\u0430\\u0437, \\u0432\\u044B \\u043A\\u0443\\u043F\\u0438\\u043B\\u0438:\\n\".concat(selectProducts.map(slide => \"\".concat(slide.alt, \" - \").concat(slide.price, \" \\u0440\\u0443\\u0431.\\n\")), \"\\n    \\u0418\\u0442\\u043E\\u0433\\u043E: \").concat(fullPrice, \" \\u0440\\u0443\\u0431.\\n    \\u0414\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0430 \\u043F\\u043E \\u0430\\u0434\\u0440\\u0435\\u0441\\u0443: \").concat(address, \".\"));\n  };\n  return slides && slides.length ? /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(StyleBuyPage, {\n      as: \"form\",\n      children: [/*#__PURE__*/_jsxDEV(Filter, {\n        selectValues: selectProductIds,\n        onChange: setSelectProductIds,\n        onClickLabel: handleOnClickProduct,\n        slides: slides,\n        fullPrice: fullPrice,\n        valueAddress: address,\n        onChangeAddress: e => setAddress(e.target.value),\n        onClick: handleBuyClick,\n        disabled: !(selectProductIds.length && address)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProductGallery, {\n        onSwiper: setSwiperRef,\n        slides: slides\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)\n  }, void 0, false) : \"Продукты были слишком вкусные и их разобрали.\";\n}\n_s(BuyPage, \"HuavDhFIBr/iimz8lGQ8gzLl9jM=\");\n_c = BuyPage;\nexport default BuyPage;\nvar _c;\n$RefreshReg$(_c, \"BuyPage\");","map":{"version":3,"names":["React","useState","ProductGallery","Filter","StyleBuyPage","jsxDEV","_jsxDEV","Fragment","_Fragment","BuyPage","_ref","_s","slides","swiperRef","setSwiperRef","selectProductIds","setSelectProductIds","selectProducts","map","id","find","slide","fullPrice","reduce","sum","price","handleOnClickProduct","value","index","includes","slideTo","address","setAddress","handleBuyClick","alert","concat","alt","length","children","as","selectValues","onChange","onClickLabel","valueAddress","onChangeAddress","e","target","onClick","disabled","fileName","_jsxFileName","lineNumber","columnNumber","onSwiper","_c","$RefreshReg$"],"sources":["D:/Работа/Проекты/react/Farmers/src/components/pages/buy-page/buy-page.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport ProductGallery from \"../../blocks/product-gallery/ProductGallery\";\r\nimport Filter from \"../../ui/filter/filter\";\r\nimport { StyleBuyPage } from \"./styles\";\r\nimport \"swiper/swiper-bundle.css\";\r\n\r\nfunction BuyPage({ slides }) {\r\n  const [swiperRef, setSwiperRef] = useState(null);\r\n  const [selectProductIds, setSelectProductIds] = useState([]);\r\n\r\n  const selectProducts = selectProductIds.map((id) =>\r\n    slides.find((slide) => slide.id === id)\r\n  );\r\n\r\n  //цена покупки\r\n  const fullPrice = selectProducts.reduce(\r\n    (sum, slide) => (sum += slide.price),\r\n    0\r\n  );\r\n\r\n  const handleOnClickProduct = (value, index) => {\r\n    if (!selectProductIds.includes(value)) {\r\n      swiperRef.slideTo(index, 0);\r\n    }\r\n  };\r\n\r\n  const [address, setAddress] = useState(\"\");\r\n  const handleBuyClick = () => {\r\n    // eslint-disable-next-line no-alert\r\n    alert(`Спасибо за заказ, вы купили:\\n${selectProducts.map(\r\n      (slide) => `${slide.alt} - ${slide.price} руб.\\n`\r\n    )}\r\n    Итого: ${fullPrice} руб.\r\n    Доставка по адресу: ${address}.`);\r\n  };\r\n\r\n  return slides && slides.length ? (\r\n    <>\r\n      <StyleBuyPage as=\"form\">\r\n        <Filter\r\n          selectValues={selectProductIds}\r\n          onChange={setSelectProductIds}\r\n          onClickLabel={handleOnClickProduct}\r\n          slides={slides}\r\n          fullPrice={fullPrice}\r\n          valueAddress={address}\r\n          onChangeAddress={(e) => setAddress(e.target.value)}\r\n          onClick={handleBuyClick}\r\n          disabled={!(selectProductIds.length && address)}\r\n        />\r\n        <ProductGallery onSwiper={setSwiperRef} slides={slides} />\r\n      </StyleBuyPage>\r\n    </>\r\n  ) : (\r\n    \"Продукты были слишком вкусные и их разобрали.\"\r\n  );\r\n}\r\nexport default BuyPage;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,cAAc,MAAM,6CAA6C;AACxE,OAAOC,MAAM,MAAM,wBAAwB;AAC3C,SAASC,YAAY,QAAQ,UAAU;AACvC,OAAO,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAElC,SAASC,OAAOA,CAAAC,IAAA,EAAa;EAAAC,EAAA;EAAA,IAAZ;IAAEC;EAAO,CAAC,GAAAF,IAAA;EACzB,MAAM,CAACG,SAAS,EAAEC,YAAY,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACc,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAE5D,MAAMgB,cAAc,GAAGF,gBAAgB,CAACG,GAAG,CAAEC,EAAE,IAC7CP,MAAM,CAACQ,IAAI,CAAEC,KAAK,IAAKA,KAAK,CAACF,EAAE,KAAKA,EAAE,CACxC,CAAC;;EAED;EACA,MAAMG,SAAS,GAAGL,cAAc,CAACM,MAAM,CACrC,CAACC,GAAG,EAAEH,KAAK,KAAMG,GAAG,IAAIH,KAAK,CAACI,KAAM,EACpC,CACF,CAAC;EAED,MAAMC,oBAAoB,GAAGA,CAACC,KAAK,EAAEC,KAAK,KAAK;IAC7C,IAAI,CAACb,gBAAgB,CAACc,QAAQ,CAACF,KAAK,CAAC,EAAE;MACrCd,SAAS,CAACiB,OAAO,CAACF,KAAK,EAAE,CAAC,CAAC;IAC7B;EACF,CAAC;EAED,MAAM,CAACG,OAAO,EAAEC,UAAU,CAAC,GAAG/B,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAMgC,cAAc,GAAGA,CAAA,KAAM;IAC3B;IACAC,KAAK,gJAAAC,MAAA,CAAkClB,cAAc,CAACC,GAAG,CACtDG,KAAK,OAAAc,MAAA,CAAQd,KAAK,CAACe,GAAG,SAAAD,MAAA,CAAMd,KAAK,CAACI,KAAK,2BAC1C,CAAC,4CAAAU,MAAA,CACQb,SAAS,oIAAAa,MAAA,CACIJ,OAAO,MAAG,CAAC;EACnC,CAAC;EAED,OAAOnB,MAAM,IAAIA,MAAM,CAACyB,MAAM,gBAC5B/B,OAAA,CAAAE,SAAA;IAAA8B,QAAA,eACEhC,OAAA,CAACF,YAAY;MAACmC,EAAE,EAAC,MAAM;MAAAD,QAAA,gBACrBhC,OAAA,CAACH,MAAM;QACLqC,YAAY,EAAEzB,gBAAiB;QAC/B0B,QAAQ,EAAEzB,mBAAoB;QAC9B0B,YAAY,EAAEhB,oBAAqB;QACnCd,MAAM,EAAEA,MAAO;QACfU,SAAS,EAAEA,SAAU;QACrBqB,YAAY,EAAEZ,OAAQ;QACtBa,eAAe,EAAGC,CAAC,IAAKb,UAAU,CAACa,CAAC,CAACC,MAAM,CAACnB,KAAK,CAAE;QACnDoB,OAAO,EAAEd,cAAe;QACxBe,QAAQ,EAAE,EAAEjC,gBAAgB,CAACsB,MAAM,IAAIN,OAAO;MAAE;QAAAkB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjD,CAAC,eACF9C,OAAA,CAACJ,cAAc;QAACmD,QAAQ,EAAEvC,YAAa;QAACF,MAAM,EAAEA;MAAO;QAAAqC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9C;EAAC,gBACf,CAAC,GAEH,+CACD;AACH;AAACzC,EAAA,CAlDQF,OAAO;AAAA6C,EAAA,GAAP7C,OAAO;AAmDhB,eAAeA,OAAO;AAAC,IAAA6C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}